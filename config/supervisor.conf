[supervisord]
logfile=%(here)s/../logs/supervisor.log
logfile_maxbytes=10MB
logfile_backups=3
loglevel=info
pidfile=/tmp/cryptobot-supervisord.pid
nodaemon=false
directory=%(here)s/..

[unix_http_server]
file=/tmp/cryptobot-supervisor.sock

[supervisorctl]
serverurl=unix:///tmp/cryptobot-supervisor.sock

[rpcinterface:supervisor]
supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface

[program:trading_bot]
command=python3 -u src/main.py --dashboard --port 8080
directory=%(here)s/..
autostart=true
autorestart=true
startretries=10
startsecs=5
stopwaitsecs=10
stdout_logfile=%(here)s/../logs/trading_bot.log
stdout_logfile_maxbytes=50MB
stdout_logfile_backups=5
stderr_redirect=true
environment=PYTHONUNBUFFERED="1"

; NOTE: Dashboard is now built into main.py (Phase 2 system)
; The separate dashboard.py program has been removed.
; Access dashboard at http://localhost:8080

[group:cryptobot]
programs=trading_bot
priority=999
